/*!build time : 2014-02-11 5:38:18 PM*/
KISSY.add("gallery/tmpl/1.0/index",function(a,b){function c(a,b){function c(a,b){if(e++,a[e]){var d=a[e].replace(/\[[^\]]*\]/g,""),f=/\[([\d\w]*)\]/g.exec(a[e]);return f&&void 0!=f[1]&&b[d]&&void 0!=b[d][f[1]]?c(a,b[d][f[1]]):void 0!=b[a[e]]?c(a,b[a[e]]):-1}return void 0!=b?b:-1}var d=a.split("."),e=-1;return c(d,b)}function d(a,b){a.each(function(a){for(var d=a.attr("data-watch").split(","),f=0,g=d.length;g>f;f++){var j=d[f].split(":");switch(j[0]){case"text":var k=c(j[1],b);-1!=k&&a.html(k);break;case"value":var l=c(j[1],b);-1!=l&&a.html(l);break;case"attr":var l=c(j[2],b);-1!=l&&a.attr(j[1],l);break;case"style":var l=c(j[2],b);if(-1!=l)switch(j[1]){case"left":case"right":case"top":case"bottom":case"width":case"height":case"paddingLeft":case"paddingRight":case"paddingTop":case"paddingBottom":case"marginLeft":case"marginRight":case"marginTop":case"marginBottom":a.css(j[1],l+"px");break;default:a.css(j[1],l)}break;case"class":var m=c(j[1],b);-1!=m&&(j[2]?"rm"==j[2]?a.removeClass(m):(a[0].className=a[0].className.replace(/state-[^\s]*[\s]?/gi,"").replace(/(\s)+/gi,"$1"),a.hasClass(m)||a.addClass(m)):a.addClass(m));break;case"part":var n=j[1],o=j[2],p=e(i(n).html());h[n]=p,i(o).html(b?p(b):p)}}})}function e(a){var b=[];b=a.match(/<%=include\(([^)]*)\)=%>/gi)||[];for(var c=0,d=b.length;d>c;c++)b[c]=b[c].replace("<%=include(","").replace(")=%>",""),a=i("#"+b[c])[0]?a.replace(/<%=include\(([^)]*)\)=%>/i,i("#"+b[c]).html()):a.replace(/<%=include\(([^)]*)\)=%>/i,"");var e=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g,"").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return e}function f(a,b,c,d){var f=a.html().replace(/>\s+</gi,"><"),g=e(f);b.html(c?g(c):g),d&&d(g)}function g(a,b,c,e){var g=a.attr("id")||"nocache",i=void 0===e?!0:e;if(h[g]){var j={};j=i?b.all(".node-watch"):[],j.length<1?b.html(c?h[g](c):h[g]):d(j,c)}else f(a,b,c,function(a){h[g]=a})}var h={},i=b.all;return g.compile=function(a,b){var c=a.attr("id")||"nocache";if(!b)return"";if(h[c])return h[c](b);var d=a.html().replace(/>\s+</gi,"><"),f=e(d);return h[c]=f,f(b)},g},{requires:["node"]});